# DIL: 모던 자바스크립트 Deep Dive

> 스터디: 월간 CS, https://github.com/monthly-cs/2024-07-modern-javascript-deep-dive  
> 작성일: 2024-07-26  
> 작성자: she0108

---

## 6장 데이터 타입

- 자바스크립트(ES6)는 7개의 데이터 타입을 제공한다.
- 데이터 타입은 원시 타입(primitive type)과 객체 타입(object/reference type)으로 분류된다.

### 6.1 숫자 타입

- 숫자 타입의 값을 64비트 부동소수점 형식을 따른다.
- 모든 수를 실수로 처리하며, 정수만 표현하기 위한 데이터 타입이 별도로 존재하지 않는다.
- 2진수, 8진수, 16진수 리터럴의 값은 10진수로 해석된다.
- 추가적인 세 가지 특별한 값을 표현할 수 있다.
  - `Infinity`: 양의 무한대
  - `-Infinity`: 음의 무한대
  - `NaN`: 산술 연산 불가(not-a-number)

### 6.2 문자열 타입

- 문자열은 0개 이상의 16비트 유니코드 문자(UTF-16)의 집합이다.
- 작은따옴표(''), 큰따옴표(""), 또는 백틱(``)으로 텍스트를 감싼다.
- 자바스크립트의 문자열은 원시 타입으로, 변경 불가능한 값이다.

### 6.3 템플릿 리터럴

- 템플릿 리터럴은 일반 문자열과 비슷하지면 백틱(``)을 사용해 표현한다.
- 멀티라인 문자열, 표현식 삽입, 태그드 템플릿 등 편리한 문자열 처리 기능을 제공한다.

### 6.4 불리언 타입

- 논리적 참, 거짓을 나타내는 `true`, `false`

### 6.5 `undefined` 타입

- `undefined`는 자바스크립트 엔진이 변수를 초기화할 때 사용하는 값이다.
- 개발자가 의도적으로 `undefined`를 변수에 할당한다면 본래 취지와 어긋날뿐더러 혼란을 줄 수 있으므로 권장하지 않는다.
- 변수에 값이 없다는 것을 명시하고 싶을 때는 `null`을 할당한다.

### 6.6 `null` 타입

- `null`은 변수에 값이 없다는 것을 의도적으로 명시할 때 사용한다.
- 이전에 할당되어 있던 값에 대한 참조를 명시적으로 제거하는 것을 의미한다.
- 함수가 유효한 값을 반환할 수 없는 경우 명시적으로 `null`을 반환하기도 한다.

### 6.7 심벌 타입

- ES6에서 추가된 타입으로, 변경 불가능한 원시 타입이다.
- 다른 값과 중복되지 않는 유일무이한 값이다.
- 주로 이름이 충돌할 위험이 없는 객체의 유일한 프로퍼티 키를 만들기 위해 사용한다.
- `Symbol` 함수를 호출해 생성한다.

### 6.8 객체 타입

- 자바스크립트는 객체 기반의 언어이며, 자바스크립트를 이루고 있는 거의 모든 것이 객체다.

### 6.9 데이터 타입의 필요성

#### 6.9.1 데이터 타입에 의한 메모리 공간의 확보와 참조

- 메모리에 값을 저장하려면 먼저 확보해야 할 메모리 공간의 크기를 결정해야 하는데, 자바스크립트 엔진은 데이터 타입에 따라 정해진 크기의 메모리 공간을 확보한다.
- 값을 참조하려면 한번에 읽어 들어야 할 메모리 공간의 크기(메모리 바이트 수)를 알아야 하는데, 자바스크립트 엔진은 변수의 타입에 따라 정해진 크기의 메모리 공간을 읽어 들인다.

#### 6.9.2 데이터 타입에 의한 값의 해석

- 메모리에서 읽어 들인 2진수를 어떻게 해석할지 결정하기 위해 데이터 타입을 사용한다.

### 6.10 동적 타이핑

#### 6.10.1 동적 타입 언어와 정적 타입 언어

##### 정적 타입 언어

- 변수를 선언할 때 변수에 할당할 수 있는 값의 종류, 즉 데이터 타입을 사전에 선언해야 한다. 이를 명시적 타입 선언이라 한다.
- 변수의 타입을 변경할 수 없으며, 변수에 선언한 타입에 맞는 값만 할당할 수 있다.
- 컴파일 시점에 타입 체크를 수행해, 통과하지 못했다면 에러를 발생시키고 프로그램의 실행 자체를 막는다.

##### 동적 타입 언어

- 변수를 선언할 때 타입을 선언하지 않는다.
- 미리 선언한 데이터 타입과 관계없이 어떤 데이터 타입의 값이라도 자유롭게 할당할 수 있다.
- 선언이 아닌 할당에 의해 타입이 결정(타입 추론)된다.
- 재할당에 의해 변수의 타입은 언제든지 동적으로 변할 수 있다. 이를 **동적 타이핑**이라 한다.

#### 6.10.2 동적 타입 언어와 변수

- 동적 타입 언어의 변수는 값을 확인하기 전에는 타입을 확신할 수 없다.
- 개발자의 의도와 상관없이 자바스크립트 엔진에 의해 암묵적으로 타입이 자동으로 변환되기도 한다.

##### 변수 사용 시 주의할 점

- 변수는 꼭 필요한 경우에 한해 제한적으로 사용된다.
- 변수의 유효 범위(스코프)는 최대한 좁게 만들어 변수의 부작용을 억제해야 한다.
- 전역 변수는 최대한 사용하지 않도록 한다.
- 변수보다는 상수를 사용해 값의 변경을 억제한다.
- 변수 이름은 변수의 목적이나 의미를 파악할 수 있도록 네이밍한다.

## 7장 연산자

- 연산자는 하나 이상의 표현식을 대상으로 산술, 할당, 비교, 논리, 타입, 지수 연산 등을 수행한다.
- 피연산자는 연산의 대상이다.

### 7.1 산술 연산자

- 피연산자를 대상으로 수학적 계산을 수행해 새로운 숫자 값을 만든다.
- 산술 연산이 불가능한 경우 `NaN`을 반환한다.
- 증가/감소(`++`/`--`) 연산자는 피연산자의 값을 변경하는 부수 효과가 있다.
  - 피연산자 앞에 위치한 전위 증가/감소 연산자는 먼저 피연산자의 값을 증가/감소시킨 후, 다른 연산을 수행한다.
  - 피연산자 뒤에 위치한 후위 증가/감소 연산자는 먼저 다른 연산을 수행한 후, 피연산자의 값을 증가/감소시킨다.
- `+` 연산자는 피연산자 중 하나 이상이 문자열인 경우 문자열 연결 연산자로 동작한다.
  - 자바스크립트 엔진이 암묵적으로 타입을 강제로 변환하는 **암묵적 타입 변환** 또는 **타입 강제 변환**이 일어나기도 한다.

```js
"1" + 2; // '12'
1 + true; // 2
1 + false; // 1
1 + null; // 1
1 + undefined; // NaN
```

### 7.2 할당 연산자

- 할당문은 값으로 평가되는 표현식인 문으로서, 할당된 값으로 평가된다.

```js
var x;
console.log((x = 10)); // 10
```

```js
var a, b, c;
a = b = c = 0;
```

### 7.3 비교 연산자

- 동등 비교 연산자(`==`)는 느슨한 비교를 하고, 일치 비교 연산자(`===`)는 엄격한 비교를 한다.
  - `==`는 먼저 암묵적 타입 변환을 통해 타입을 일치시킨 후 피연산자들이 같은 값인지 비교한다.
    ```js
    5 == "5"; // true
    false == "0"; // true
    ```
  - `===`는 좌항과 우항의 피연산자가 타입도 같고 값도 같은 경우에 한하여 `true`를 반환한다.
  - `==`는 예측하기 어려운 결과를 만들어내므로 `===`를 사용하는 것이 좋다.
- 숫자가 `NaN`인지 조사하려면 `Number.isNan` 함수를 사용한다.

  ```js
  NaN === NaN; // false

  Number.isNaN(NaN); // true
  Number.isNaN(10); // false
  ```

### 7.4 삼항 조건 연산자

```js
조건식 ? 조건식이 true일 때 반환할 값 : 조건식이 false일 때 반환할 값
```

- 첫 번째 피연산자가 `true`로 평가되면 두 번째 피연산자를 반환하고, `false`로 평가되면 세 번째 피연산자를 반환한다.
- 조건식(첫 번째 피연산자)의 평가 결과가 불리언 값이 아니면 불리언 값으로 암묵적 타입 변환된다.
- 삼항 조건 연산자 표현식은 `if...else` 문과 달리 값처럼 사용할 수 있다.

### 7.5 논리 연산자

- 논리 부정(`!`) 연산자는 언제나 불리언 값을 반환한다.
  ```js
  !0; // true
  !"Hello";
  false;
  ```
- 논리합(`||`) 또는 논리곱(`&&`) 연산자 표현식의 평가 결과는 불리언 값이 아닐 수도 있다. 언제나 2개의 피연산자 중 어느 한쪽으로 평가된다.

### 7.6 쉼표 연산자

- 왼쪽 피연산자부터 차례대로 피연산자를 평가하고 마지막 피연산자의 평가가 끝나면 마지막 피연산자의 평가 결과를 반환한다.
  ```js
  var x, y, z;
  (x = 1), (y = 2), (z = 3); // 3
  ```

### 7.7 그룹 연산자

- 그룹 연산자(`()`)는 연산자 우선순위가 가장 높다.

### 7.8 `typeof` 연산자

- 피연산자의 데이터 타입을 문자열로 반환한다.
- `"string"`, `"number"`, `"boolean"`, `"undefined"`, `"symbol"`, `"object"`, `"function"`
- `typeof null`은 `"object"`를 반환하므로, 값이 `null` 타입인지 확인할 때는 `===`를 사용하자.
- 선언하지 않은 식별자에 `typeof` 연산자를 사용하면 `ReferenceError`가 발생하는 대신 `undefined`를 반환한다.

### 7.9 지수 연산자

- 지수 연산자가 도입되기 이전에는 `Math.pow` 메서드를 사용했다.

### 7.10 그 외의 연산자

- `?.`, `??`, `delete`, `new`, `instanceof`, `in`

### 7.11 연산자의 부수 효과

- 대부분의 연산자는 다른 코드에 영향을 주지 않고 새로운 값을 생성한다.
- 일부 연산자(`=`, `++/--`, `delete`)는 다른 코드에 영향을 주는 부수 효과가 있다.
